# ==========================================
# SERVER CONFIGURATION
# ==========================================
# Render will assign the PORT automatically
server.port=${PORT:8080}

# ==========================================
# DATABASE CONFIGURATION - USE H2 FIRST
# ==========================================
# H2 In-Memory Database (Temporary - to get app running)
spring.datasource.url=jdbc:h2:mem:emsdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=emsuser
spring.datasource.password=emspass

# H2 Console (for debugging)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ==========================================
# JPA / HIBERNATE CONFIGURATION
# ==========================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.format_sql=true

# ==========================================
# JWT CONFIGURATION
# ==========================================
# Use Render environment variable for secret
jwt.secret=${JWT_SECRET:emssupersecretkey2024emschangeinproduction}
jwt.expiration=86400000

# ==========================================
# CORS CONFIGURATION - COMMENT THIS OUT!
# ==========================================
# CORS is handled in SecurityConfig.java - DO NOT configure here
# cors.allowed-origins=${CORS_ORIGINS:https://employee-management-system-snowy-three.vercel.app/,http://localhost:4200,https://employee-management-system-jxdj.onrender.com}

# ==========================================
# CONNECTION POOL SETTINGS
# ==========================================
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.maximum-pool-size=5
